# 了解项目目的和设计思路

详见毕业论文及其中文翻译文件

- [en]18071021-Li Rongchen-李镕辰-thesis.docx
- [zh]18071021-Li Rongchen-李镕辰-thesis.docx


# 项目文件目录结构

```
├── 项目文件
│   ├── awfulordersystem # 被测的前端软件，使用Vue3完成，所有内容以Vue组件形式组织，代码较为简单，不做过多解释
│   ├── awfulordersystemBackEnd # 后端控制眼动记录及分析
│   │   ├── app.py # 后端主文件，负责与前端通信
│   │   ├── eyetrack # 已经编译好的眼动追踪引擎，受app.py调用，使用Tobii官方提供的stream engine编写完成，如何编辑及调用stream engine见Tobii官方文档
│   │   ├── data # 项目预先设定的AOI信息以及测试时记录的眼动数据
│   │   │   ├── AOIs.json # 使用前端软件给html元素分配的id列出每个路由下的关键AOI，元素的id可以在前端项目中通过浏览器审查元素获得
│   │   │   ├── not-relevant-aois.json # 同样使用id列出每个路由下的非关键AOI，主要列出了每个页面中的背景容器元素，虽然关键AOI也在这些容器中，但在判定时会先判断眼动是否在关键AOI中，再判断其是否在非关键AOI中，所以不会将对关键AOI的眼动行为误判为对非关键AOI的眼动行为
│   │   │   ├── standard-scan-path.json # 预先设计的每个页面行为的标准路径，用来计算scan path accuracy，使用元素id依次列出关键AOI的路径顺序
│   │   │   ├── 1652456595951 # 一个测试时的记录的例子，文件夹名是测试开始时的时间戳
│   │   │   │   ├── pic
│   │   │   │   │   ├── 1652456596693.jpg # 每个子任务开始时的截图，文件名为子任务开始时的时间戳
│   │   │   │   │   ├── 1652456596693_track.jpg # 刚刚完成测试任务时并不会生成，在进行calc.py的分析后会在在每个子任务的截图上绘制执行子任务时的眼动轨迹
│   │   │   │   ├── BadDesigns.json # 记录本次测试开启了哪些“故意不良设计”
│   │   │   │   ├── components.txt # 记录每个路由下所有html元素及其坐标位置
│   │   │   │   ├── eye-track.txt # 记录测试全过程的所有的眼动原始数据
│   │   ├── analyze # 收集眼动数据后进行分析的文件夹
│   │   │   ├── calc.py # 运行这个文件将会对data文件夹下所有以时间戳为文件夹名的记录进行统一分析，并针对各项NFR生成xlsx，方便绘制论文中实验部分的箱形图。
│   ├── 实验结果 # 针对每个NFR的实验最终得到的数据，每一个文件夹下都是对应NFR实验执行calc.py后的结果。

```


# 项目使用

## 运行准备：

- 确保进行的测试的屏幕分辨率为1920*1080
- 在一台X86_64架构的Windows设备上按照tobii官方的要求安装Tobii 5 eyetrack眼动仪
- 在awfulorsersystemBackEnd项目的python环境中安装requirements.txt的所要求的第三方库
- 在awfulodersystem项目的nodejs环境中安装package.json要求的第三方库

## 项目使用方法：

1. 设置awfulodersystem项目main.js文件中的全局变量，设置为true为启用对应NFR的“故意不良设计”，false为关闭。
2. 删除awfulorsersystemBackEnd的data文件夹下所有子文件夹，并提前设置好AOIs.json、not-relevant-aois.json、standard-scan-path.json等文件
3. 首先运行项目awfulorsersystemBackEnd的app.py，当后端运行起来并，命令行中显示开始监听端口时进行下一步。
4. 在awfulodersystem中使用`npm serve`命令运行前端项目，等待前端项目开始运行
5. 浏览器地址栏输入命令行中显示的地址进入前端待测项目。
6. 在浏览器中使用F11将页面全屏显示，填充满屏幕（确保前后端坐标系统的一致）
7. 完成全部测试流程
8. 针对不同被测人反复进行4-6步
9. 清空analyze文件夹下所有.csv和.xlsx文件
10. 运行analyze文件夹下的calc.py

